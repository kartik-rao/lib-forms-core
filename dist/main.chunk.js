(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"./src/app.css":
/*!*********************!*\
  !*** ./src/app.css ***!
  \*********************/
/*! no static exports found */function(e,t,o){},"./src/app.tsx":
/*!*********************!*\
  !*** ./src/app.tsx ***!
  \*********************/
/*! exports provided: default */function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return c});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! antd */"antd"),r=o(/*! mobx-logger */"./node_modules/mobx-logger/lib/index.js"),a=o(/*! react */"react"),l=o.n(a),n=o(/*! react-dom */"react-dom"),d=(o(/*! ./app.css */"./src/app.css"),o(/*! ./store/FormStoreProvider */"./src/store/FormStoreProvider.tsx"));function c(e,t){return i.__awaiter(this,void 0,void 0,function*(){const i=l.a.lazy(()=>o.e(/*! import() | core */"core").then(o.bind(null,/*! ./views/FormView */"./src/views/FormView.tsx")).then(e=>({default:e.FormView})));Object(n.render)(l.a.createElement(s.Layout,{style:{height:"100vh",overflow:"hidden"}},l.a.createElement(s.Layout.Header,null),l.a.createElement(l.a.Suspense,{fallback:"Loading"},l.a.createElement(d.FormStoreProvider,{initialState:t},l.a.createElement(i,null)))),document.querySelector(e))})}Object(r.enableLogging)({action:!1,reaction:!1,transaction:!1,compute:!1}),c("#root",{id:"foo",name:"A sample form",desc:"A simple form to demonstrate Forms.li",layout:"vertical",content:{title:"Form title",subtitle:"Form subtitle",pages:[{title:"Page 1",sections:[{gutter:16,name:"Section 1",columns:[{id:1,name:"s1c1",title:"Section 1 - Column 1",fields:[{id:"f1",name:"f1",type:"text",inputType:"input",label:"f1 - Text Label",helpText:"f1 help",validation:{presence:{message:"f1 is a required field"},length:{message:"f1 should be length 2",minimum:2}},componentProps:{size:"small",placeholder:"Placeholder Text"}},{id:"f10",name:"f10",type:"number",label:"f10 -Number Field ",inputType:"number",helpText:"f2 help",validation:{presence:{message:"f10 is a required field"},numericality:!0},componentProps:{defaultValue:10}}]},{id:2,name:"s1c2",title:"Section 1 - Column 2",fields:[{id:"f2",name:"f2",inputType:"select",label:"f2 - select",componentProps:{placeholder:"f2 - select placeholder",options:[{label:"option1",value:"option1"},{label:"option2",value:"option2"}]}},{id:"f8",name:"f8",inputType:"datepicker",label:"f8 - datepicker label",validation:{presence:{message:"f8 is required"}},componentProps:{dateFormat:"YYYY-MM-DD"}},{id:"f9",name:"f9",inputType:"daterange",label:"f9 - daterange label",validation:{presence:{message:"f9 is required"}},componentProps:{dateFormat:"YYYY-MM-DD",defaultStartValue:"2019-03-01",defaultEndValue:"2019-03-31",minStartDate:{from:"now",relative:{days:-20}},maxEndDate:{from:"start",relative:{days:10}}}},{id:"f3",name:"f3",type:"text",inputType:"input",label:"f3 - conditional text label",validation:{presence:{message:"f3 is required"}},condition:{predicates:[{field:"f1",condition:"eq",value:"showme"}]},componentProps:{placeholder:"Placeholder Text"}},{id:"f30",name:"f30",type:"checkbox",inputType:"checkbox",label:"f30 - Checkbox",componentProps:{defaultChecked:!0}}]}]},{name:"P2S2",columns:[{id:9,name:"p1s2c1",title:"p1s2c1",fields:[{id:"f18",name:"f18",type:"text",inputType:"input",label:"f18 - text label",validation:{presence:{message:"F18 is reqired"}},componentProps:{placeholder:"Placeholder Text F18"},itemLayoutOptions:{labelCol:{span:24},wrapperCol:{span:12}}}]}]}]},{title:"Page 2",sections:[{name:"A Section",columns:[{id:3,name:"p2s1c1",title:"Section 2 - Column 1",fields:[{id:"f5",name:"f5",inputType:"textblock",label:"f5 - Text Label",value:"Lorem ipsum text"},{id:"f4",name:"f4",type:"text",inputType:"input",label:"f4 - text label F4",validation:{presence:{message:"f4 s required"},length:{minimum:2,message:"f4 must be of minlength=2"}},componentProps:{placeholder:"Placeholder Text F4"}},{id:"f11",name:"f11",type:"radiogroup",label:"f11 -Radiogroup ",inputType:"radiogroup",validation:{presence:{message:"f11 is a required field"}},componentProps:{options:[{label:"L1",value:"V1"},{label:"L2",value:"V2"},{label:"L3",value:"V3"}]}},{id:"f12",name:"f12",type:"checkboxgroup",label:"f12 - Checkboxgroup ",inputType:"checkboxgroup",validation:{presence:{message:"f12 is a required field"}},componentProps:{options:[{label:"L1",value:"V1"},{label:"L2",value:"V2"},{label:"L3",value:"V3"}]}}]}]}]},{title:"Page 3",sections:[{name:"A Section",columns:[{id:4,name:"s1c1",title:"Section 1 - Column 1",fields:[{id:"f6",name:"f6",type:"text",inputType:"input",label:"f6 - text label",validation:{presence:{message:"Reqired validation message"},length:{minimum:2,message:"MinLength=2 validation message"}},componentProps:{placeholder:"Placeholder Text F6"}}]}]}]}]},formLayoutOptions:{showSteps:!0,showPageTitles:!0,showSectionTitles:!0,showSectionBorders:!0,showPageBorders:!0,validationDisablesPaging:!1},itemLayoutOptions:{wrapperCol:{lg:{span:10}}}})},"./src/models/column.ts":
/*!******************************!*\
  !*** ./src/models/column.ts ***!
  \******************************/
/*! exports provided: Column */function(e,t,o){"use strict";o.r(t),o.d(t,"Column",function(){return a});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./common */"./src/models/common.ts");class a{constructor(e,t){this._type="Column",this.initialize(e,t)}get errors(){return this.fields.reduce((e,t)=>e.concat(t.validator.errors),[])}get isValid(){return this.fields.every((e,t)=>e.isValid)}get idFieldMap(){return this.fields.reduce((e,t)=>(e[t.id]=t,e),{})}get numFields(){return this.fields.length}addField(e,t){void 0!==t&&null!=t&&t>-1?this.fields.splice(t,0,e):this.fields.push(e)}addFields(...e){e.forEach(e=>this.addField(e))}removeField(e){this.fields.splice(e,1)}swapFields(e,t){let{fields:o}=this;[o[e],o[t]]=[o[t],o[e]]}moveField(e,t){this.fields.splice(t,0,this.fields.splice(e,1)[0])}initialize(e,t){this.uuid=e.uuid,this.store=t,this.id=e.id,this.span=e.span,this.name=Object(r.valueOrDefault)(e.name,`${this._type}-${e.id}`),this.title=Object(r.valueOrDefault)(e.title,""),this.fields=Object(r.valueOrDefault)(e.fields,[])}}i.__decorate([s.observable],a.prototype,"uuid",void 0),i.__decorate([s.observable],a.prototype,"id",void 0),i.__decorate([s.observable],a.prototype,"name",void 0),i.__decorate([s.observable],a.prototype,"span",void 0),i.__decorate([s.observable],a.prototype,"title",void 0),i.__decorate([s.observable],a.prototype,"fields",void 0),i.__decorate([s.computed],a.prototype,"errors",null),i.__decorate([s.computed],a.prototype,"isValid",null),i.__decorate([s.computed],a.prototype,"idFieldMap",null),i.__decorate([s.computed],a.prototype,"numFields",null),i.__decorate([s.action],a.prototype,"addField",null),i.__decorate([s.action],a.prototype,"addFields",null),i.__decorate([s.action],a.prototype,"removeField",null),i.__decorate([s.action],a.prototype,"swapFields",null),i.__decorate([s.action],a.prototype,"moveField",null),i.__decorate([s.action],a.prototype,"initialize",null)},"./src/models/common.ts":
/*!******************************!*\
  !*** ./src/models/common.ts ***!
  \******************************/
/*! exports provided: valueOrDefault */function(e,t,o){"use strict";o.r(t),o.d(t,"valueOrDefault",function(){return i});o(/*! uuid/v1 */"./node_modules/uuid/v1.js");function i(e,t){return null!=e?e:t}},"./src/models/condition.predicate.ts":
/*!*******************************************!*\
  !*** ./src/models/condition.predicate.ts ***!
  \*******************************************/
/*! exports provided: Predicate */function(e,t,o){"use strict";o.r(t),o.d(t,"Predicate",function(){return r});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js");class r{constructor(e,t){this.operator="or",this.initialize(e,t)}initialize(e,t){if(!e.condition||-1==r.PredicateConditions.indexOf(e.condition))throw new Error(`InvalidPredicateCondition - ${e.condition}`);if(e.operator&&-1==r.PredicateOperators.indexOf(e.operator))throw new Error(`InvalidPredicateOperator - ${e.operator}`);this.uuid=e.uuid,this.store=t,this.field=e.field,this.condition=e.condition,this.value=e.value,this.operator=e.operator}}r.PredicateConditions=["eq","neq","gt","lt","gteq","lteq","hasval","nothasval"],r.PredicateOperators=["or","and"],i.__decorate([s.observable],r.prototype,"field",void 0),i.__decorate([s.observable],r.prototype,"condition",void 0),i.__decorate([s.observable],r.prototype,"value",void 0),i.__decorate([s.observable],r.prototype,"operator",void 0),i.__decorate([s.action],r.prototype,"initialize",null)},"./src/models/condition.ts":
/*!*********************************!*\
  !*** ./src/models/condition.ts ***!
  \*********************************/
/*! exports provided: Condition */function(e,t,o){"use strict";o.r(t),o.d(t,"Condition",function(){return a});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./condition.predicate */"./src/models/condition.predicate.ts");class a{constructor(e,t){this.initialize(e,t)}initialize(e,t){let o=[];e.predicates.forEach(e=>{o.push(new r.Predicate(e,t))}),this.predicates=o,this.ancestors=[],this.store=t;let i=this;this.predicates.forEach(e=>{i.ancestors.push(e.field)})}addPredicates(...e){e.forEach(e=>{this.predicates.push(new r.Predicate(e,this.store)),this.ancestors.push(e.field)})}reduce(e,t,o){return"and"==o?e&&t:e||t}get value(){var e;let t=this;return!this.predicates||0==this.predicates.length||(this.predicates.forEach((o,i)=>{let s=t.store.values[o.field];var r=null;switch(o.condition){case"eq":r=s==o.value;break;case"neq":r=s!=o.value;break;case"gt":r=s>o.value;break;case"lt":r=s<o.value;break;case"gteq":r=s>=o.value;break;case"lteq":r=s<=o.value;break;case"hasval":r=void 0!==s&&null!=s&&""!==s;break;case"nothasval":r=void 0===s||null==s||""==s;break;default:r=!1}e=0==i?r:this.reduce(e,r,o.operator)}),e)}}i.__decorate([s.observable],a.prototype,"predicates",void 0),i.__decorate([s.observable],a.prototype,"ancestors",void 0),i.__decorate([s.action],a.prototype,"initialize",null),i.__decorate([s.action],a.prototype,"addPredicates",null),i.__decorate([s.computed],a.prototype,"value",null)},"./src/models/factory.ts":
/*!*******************************!*\
  !*** ./src/models/factory.ts ***!
  \*******************************/
/*! exports provided: Factory */function(e,t,o){"use strict";o.r(t),o.d(t,"Factory",function(){return u});var i=o(/*! ./column */"./src/models/column.ts"),s=o(/*! ./condition */"./src/models/condition.ts"),r=o(/*! ./condition.predicate */"./src/models/condition.predicate.ts"),a=o(/*! ./field */"./src/models/field.ts"),l=o(/*! ./form */"./src/models/form.ts"),n=o(/*! ./page */"./src/models/page.ts"),d=o(/*! ./section */"./src/models/section.ts");const c=o(/*! uuid/v1 */"./node_modules/uuid/v1.js");class u{constructor(e){this.store=e}ensureIds(e){e.uuid||(e.uuid=c()),e.id||(e.id=(1e6*Math.random()).toFixed(0)+"")}makePredicates(...e){let t=[];return e.forEach(e=>{this.ensureIds(e),t.push(new r.Predicate(e,this.store))}),t}makeCondition(e){let t=this.makePredicates(...e.predicates);return new s.Condition({predicates:t},this.store)}makeFields(...e){return e&&0!=e.length?e.reduce((e,t)=>(this.ensureIds(t),e.push(new a.Field(Object.assign({},t,{condition:t.condition}),this.store)),e),[]):[]}makeColumns(...e){let t=[];return e&&0!=e.length?(e.forEach(o=>{this.ensureIds(o);let s=this.makeFields(...o.fields);o.span||(o.span=Math.floor(24/e.length));let r=new i.Column(Object.assign({},o,{fields:s}),this.store);t.push(r)}),t):t}makeSections(...e){let t=[];return e&&0!=e.length?(e.forEach(e=>{this.ensureIds(e);let o=e.columns&&e.columns.length>0?this.makeColumns(...e.columns):[];t.push(new d.Section(Object.assign({},e,{columns:o}),this.store))}),t):[]}makePages(...e){if(!e||0==e.length)return[];let t=[];return e.forEach(e=>{this.ensureIds(e);let o=this.makeSections(...e.sections);t.push(new n.Page(Object.assign({},e,{sections:o}),this.store))}),t}makeForm(e){let t;if(e&&e.content&&e.content.pages)e.content.pages=this.makePages(...e.content.pages),t=new l.Form(e,this.store);else{let o=e||{id:null,content:{pages:[]}};t=new l.Form(o,this.store)}return this.store.setForm(t),t}}},"./src/models/field.ts":
/*!*****************************!*\
  !*** ./src/models/field.ts ***!
  \*****************************/
/*! exports provided: Field */function(e,t,o){"use strict";o.r(t),o.d(t,"Field",function(){return d});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./condition */"./src/models/condition.ts"),a=o(/*! ./layout */"./src/models/layout.ts"),l=o(/*! ./validation */"./src/models/validation.ts"),n=o(/*! ./validator */"./src/models/validator.ts");class d{constructor(e,t){this._type="Field",this.initialize(e,t)}mergeUpdate(e){this.id=e.id?e.id:this.id,this.name=e.name,this.label=e.label,this.helpText=e.helpText,this.placeholder=e.placeholder;let{fieldOptions:t}=e;this.fieldOptions=Object.assign({},this.fieldOptions,{valuePropName:t?t.valuePropName:this.fieldOptions.valuePropName}),this.componentProps=Object.assign({},this.componentProps,e.componentProps)}initialize(e,t){this.store=t,this.id=e.id,this.uuid=e.uuid,this.name=e.name||`${this._type}_${e.id}`,this.type=e.type,this.label=e.label,this.inputType=e.inputType,this.fieldOptions=e.fieldOptions?Object.assign({id:e.id},Object.assign({},e.fieldOptions)):{id:e.id},this.fieldOptions.valuePropName=(e.fieldOptions||{}).valuePropName||this.name,this.validation=e.validation,this.validator=new n.Validator({rule:new l.ValidationRule(e.validation),field:this,store:t}),this.storage=e.storage,this.label=e.label,this.helpText=e.helpText,this.placeholder=e.placeholder,this.children=e.children||{},this.componentProps=e.componentProps||{},this.location=e.location||{},this.touched=!1,this.itemLayoutOptions=new a.ItemLayoutOptions(e.itemLayoutOptions),this.componentProps&&this.componentProps.defaultValue?this.setValue(this.componentProps.defaultValue):this.componentProps&&this.componentProps.defaultChecked&&this.setValue(this.componentProps.defaultChecked),this.fieldOptions.valuePropName||(this.fieldOptions.valuePropName=`${this.id}_value`),"daterange"==this.inputType&&(this.componentProps.startValuePropsName=this.componentProps.startValuePropsName?this.componentProps.startValuePropsName:"start_date",this.componentProps.endValuePropsName=this.componentProps.endValuePropsName?this.componentProps.endValuePropsName:"end_date"),e.condition?this.setCondition(e.condition):(this.condition=null,this.conditionState=!0),this.validate()}get className(){return`.fl-field .fl-${this.inputType}${this.type?"-"+this.type:""}`}get isTouched(){return this.store.touched[this.id]}get isValidateable(){return this.validator.isValidateable}get isValid(){return this.validator.isValid}get isHidden(){return"hidden"==this.inputType}get isRequired(){return!!this.validator.rule.presence}get currentValue(){return this.value}get isDisabled(){return!this.conditionState}setValue(e){this.value=e,this.store.setFieldValue(this.id,e),this.condition&&console.log("Condition Value",this.condition.value),this.validate()}setTouched(){this.touched=!0,this.store.setFieldTouched(this.id),this.validate()}setConditionState(e){this.conditionState=e,this.validate()}setCondition(e){if(null==e||!e.predicates||0==e.predicates.length)return this.condition=null,this.conditionState=!0,this._dispose&&this._dispose(),void this.validate();this.condition=new r.Condition(e,this.store),this.conditionState=this.condition.value,this._dispose=Object(s.observe)(this.condition,"value",e=>{this.setConditionState(e.newValue),1==e.newValue&&this.validate()},!0)}validate(){this.validator.validate()}get serialize(){let e=Object(s.toJS)(this);return delete e.store,delete e.validator,JSON.stringify(e)}}i.__decorate([s.observable],d.prototype,"id",void 0),i.__decorate([s.observable],d.prototype,"name",void 0),i.__decorate([s.observable],d.prototype,"type",void 0),i.__decorate([s.observable],d.prototype,"label",void 0),i.__decorate([s.observable],d.prototype,"value",void 0),i.__decorate([s.observable],d.prototype,"touched",void 0),i.__decorate([s.observable],d.prototype,"inputType",void 0),i.__decorate([s.observable],d.prototype,"helpText",void 0),i.__decorate([s.observable],d.prototype,"placeholder",void 0),i.__decorate([s.observable],d.prototype,"condition",void 0),i.__decorate([s.observable],d.prototype,"storage",void 0),i.__decorate([s.observable],d.prototype,"location",void 0),i.__decorate([s.observable],d.prototype,"conditionState",void 0),i.__decorate([s.observable],d.prototype,"validator",void 0),i.__decorate([s.observable],d.prototype,"componentProps",void 0),i.__decorate([s.observable],d.prototype,"itemLayoutOptions",void 0),i.__decorate([s.action],d.prototype,"mergeUpdate",null),i.__decorate([s.action],d.prototype,"initialize",null),i.__decorate([s.computed],d.prototype,"className",null),i.__decorate([s.computed],d.prototype,"isTouched",null),i.__decorate([s.computed],d.prototype,"isValidateable",null),i.__decorate([s.computed],d.prototype,"isValid",null),i.__decorate([s.computed],d.prototype,"isHidden",null),i.__decorate([s.computed],d.prototype,"isRequired",null),i.__decorate([s.computed],d.prototype,"currentValue",null),i.__decorate([s.computed],d.prototype,"isDisabled",null),i.__decorate([s.action],d.prototype,"setValue",null),i.__decorate([s.action],d.prototype,"setTouched",null),i.__decorate([s.action],d.prototype,"setConditionState",null),i.__decorate([s.action],d.prototype,"setCondition",null),i.__decorate([s.action],d.prototype,"validate",null),i.__decorate([s.computed],d.prototype,"serialize",null)},"./src/models/form.ts":
/*!****************************!*\
  !*** ./src/models/form.ts ***!
  \****************************/
/*! exports provided: Form */function(e,t,o){"use strict";o.r(t),o.d(t,"Form",function(){return d});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! axios */"./node_modules/axios/index.js"),r=o.n(s),a=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),l=o(/*! ./common */"./src/models/common.ts"),n=o(/*! ./layout */"./src/models/layout.ts");class d{constructor(e,t){this.initialize(e,t)}initialize(e,t){console.log("Init form with store",t),this.store=t,this.id=e.id,this.name=e.name,this.uuid=e.uuid,this.exid=Object(l.valueOrDefault)(e.exid,null),this.desc=Object(l.valueOrDefault)(e.desc,null),e.tenant?this.tenant={eid:Object(l.valueOrDefault)(e.tenant.eid,null),mid:Object(l.valueOrDefault)(e.tenant.mid,null),context:Object(l.valueOrDefault)(e.tenant.context,null),stack:Object(l.valueOrDefault)(e.tenant.stack,null)}:this.tenant={eid:null,mid:null,context:null,stack:null},e.status?this.status={timezone:Object(l.valueOrDefault)(e.status.timezone,null),paused:Object(l.valueOrDefault)(e.status.paused,null),active:Object(l.valueOrDefault)(e.status.active,null),created:Object(l.valueOrDefault)(e.status.created,null),edited:Object(l.valueOrDefault)(e.status.edited,null),starts:Object(l.valueOrDefault)(e.status.starts,null),ends:Object(l.valueOrDefault)(e.status.ends,null)}:this.status={timezone:null,paused:!1,active:!1,created:null,edited:null,starts:null,ends:null},e.content?(this.content={title:Object(l.valueOrDefault)(e.content.title,null),subtitle:Object(l.valueOrDefault)(e.content.subtitle,null),labels:Object(l.valueOrDefault)(e.content.labels,null),offset:Object(l.valueOrDefault)(e.content.offset,null),width:Object(l.valueOrDefault)(e.content.width,null),sidebar:Object(l.valueOrDefault)(e.content.sidebar,null),scripts:Object(l.valueOrDefault)(e.content.scripts,null),styles:Object(l.valueOrDefault)(e.content.styles,null),datasets:Object(l.valueOrDefault)(e.content.datasets,null),pages:Object(l.valueOrDefault)(e.content.pages,[]),paginate:Object(l.valueOrDefault)(e.content.paginate,!1)},e.content.css?this.content.css={inline:Object(l.valueOrDefault)(e.content.css.inline,[]),external:Object(l.valueOrDefault)(e.content.css.external,[])}:this.content.css={inline:null,external:null},e.content.header?this.content.header={rows:Object(l.valueOrDefault)(e.content.header.rows,[])}:this.content.header={rows:[]},e.content.footer?this.content.footer={rows:Object(l.valueOrDefault)(e.content.footer.rows,[])}:this.content.footer={rows:[]},e.content.trackingPixels?this.content.trackingPixels=e.content.trackingPixels:this.content.trackingPixels=[]):(this.content={title:null,subtitle:null,labels:null,offset:null,width:null,sidebar:null,scripts:[],styles:[],datasets:[],pages:[],paginate:!0},this.content.css={inline:null,external:null},this.content.header={rows:[]},this.content.footer={rows:[]},this.content.trackingPixels=[]),this.layout=Object(l.valueOrDefault)(e.layout,"vertical"),this.formLayoutOptions=new n.FormLayoutOptions(e.formLayoutOptions),this.itemLayoutOptions=new n.ItemLayoutOptions(e.itemLayoutOptions)}get isValid(){return this.content.pages.every(e=>e.isValid)}get numPages(){return this.content.pages.length}get numFields(){return this.content.pages.reduce((e,t)=>e+t.numFields,0)}addPage(e,t){void 0!==t&&null!=t&&t>-1?this.content.pages.splice(t,0,e):this.content.pages.push(e)}removePage(e){this.content.pages.splice(e,1)}swapPages(e,t){let{pages:o}=this.content;[o[e],o[t]]=[o[t],o[e]]}movePage(e,t){this.content.pages.splice(t,0,this.content.pages.splice(e,1)[0])}get isSubmittable(){let e=!this.stopSubmit||!this.stopSubmit;return 0==this.errors.length&&e}get idFieldMap(){return this.content.pages.reduce((e,t)=>Object.assign({},e,t.idFieldMap),{})}get errors(){return this.content.pages.reduce((e,t)=>e.concat(t.errors),[])}get values(){return Object.keys(this.idFieldMap).reduce((e,t)=>{let o=this.idFieldMap[t];return"htmlfragment"==o.inputType||"textblock"==o.inputType?e:Object.assign({},e,{[o.id]:o.value})},{})}handleSubmit(e){e.preventDefault(),e.stopPropagation(),this.store.setSubmitting(!0);let t=this.idFieldMap,o={},i=this.values;Object.keys(i).forEach(e=>{let s=t[e].fieldOptions.valuePropName||t[e].name;o[s]=i[e]}),this.isSubmittable&&this.submitTarget?r.a.post(this.submitTarget,o).catch(e=>{console.log("Submit Error",e),this.submitError="There was an error submitting this form",this.successRedirect&&setTimeout(()=>{window.location.href=this.successRedirect},5e3)}).then(()=>{this.store.setSubmitting(!1),this.successRedirect&&setTimeout(()=>{window.location.href=this.errorRedirect},5e3)}):console.dir(i)}}i.__decorate([a.observable],d.prototype,"id",void 0),i.__decorate([a.observable],d.prototype,"exid",void 0),i.__decorate([a.observable],d.prototype,"desc",void 0),i.__decorate([a.observable],d.prototype,"name",void 0),i.__decorate([a.observable],d.prototype,"tenant",void 0),i.__decorate([a.observable],d.prototype,"status",void 0),i.__decorate([a.observable],d.prototype,"content",void 0),i.__decorate([a.observable],d.prototype,"layout",void 0),i.__decorate([a.observable],d.prototype,"stopSubmit",void 0),i.__decorate([a.observable],d.prototype,"submitTarget",void 0),i.__decorate([a.observable],d.prototype,"submitError",void 0),i.__decorate([a.observable],d.prototype,"formLayoutOptions",void 0),i.__decorate([a.observable],d.prototype,"itemLayoutOptions",void 0),i.__decorate([a.observable],d.prototype,"successRedirect",void 0),i.__decorate([a.observable],d.prototype,"errorRedirect",void 0),i.__decorate([a.action],d.prototype,"initialize",null),i.__decorate([a.computed],d.prototype,"isValid",null),i.__decorate([a.computed],d.prototype,"numPages",null),i.__decorate([a.computed],d.prototype,"numFields",null),i.__decorate([a.action],d.prototype,"addPage",null),i.__decorate([a.action],d.prototype,"removePage",null),i.__decorate([a.action],d.prototype,"swapPages",null),i.__decorate([a.action],d.prototype,"movePage",null),i.__decorate([a.computed],d.prototype,"isSubmittable",null),i.__decorate([a.computed],d.prototype,"idFieldMap",null),i.__decorate([a.computed],d.prototype,"errors",null),i.__decorate([a.computed],d.prototype,"values",null),i.__decorate([a.action.bound],d.prototype,"handleSubmit",null)},"./src/models/layout.ts":
/*!******************************!*\
  !*** ./src/models/layout.ts ***!
  \******************************/
/*! exports provided: AllScreenWidths, LayoutOption, FormLayoutOptions, ItemLayoutOptions */function(e,t,o){"use strict";o.r(t),o.d(t,"AllScreenWidths",function(){return a}),o.d(t,"LayoutOption",function(){return l}),o.d(t,"FormLayoutOptions",function(){return n}),o.d(t,"ItemLayoutOptions",function(){return d});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./common */"./src/models/common.ts");const a=["xs","sm","md","lg","xl"];class l{constructor(e={}){Object.keys(e).map(t=>{a.indexOf(t)>-1&&e[t]&&(this[t]=e[t])})}get unused(){return a.filter(e=>void 0===this[e]||null==this[e])}get used(){return a.filter(e=>void 0!==this[e]&&null!=this[e])}add(e,t){this[e]=t}}i.__decorate([s.observable],l.prototype,"xs",void 0),i.__decorate([s.observable],l.prototype,"sm",void 0),i.__decorate([s.observable],l.prototype,"md",void 0),i.__decorate([s.observable],l.prototype,"lg",void 0),i.__decorate([s.observable],l.prototype,"xl",void 0),i.__decorate([s.computed],l.prototype,"unused",null),i.__decorate([s.computed],l.prototype,"used",null);class n{constructor(e){this.initialize(e)}initialize(e){e&&(this.showSteps=Object(r.valueOrDefault)(e.showSteps,!0),this.showPageTitles=Object(r.valueOrDefault)(e.showPageTitles,!0),this.showSectionTitles=Object(r.valueOrDefault)(e.showSectionTitles,!1),this.showSectionBorders=Object(r.valueOrDefault)(e.showSectionBorders,!1),this.showPageBorders=Object(r.valueOrDefault)(e.showPageBorders,!1),this.validationDisablesPaging=Object(r.valueOrDefault)(e.validationDisablesPaging,!0),this.labelAlign=Object(r.valueOrDefault)(e.labelAlign,"left"),this.wrapperCol=Object(r.valueOrDefault)(e.wrapperCol,{span:8}),this.labelCol=Object(r.valueOrDefault)(e.labelCol,{span:6}))}}i.__decorate([s.observable],n.prototype,"showSteps",void 0),i.__decorate([s.observable],n.prototype,"showPageTitles",void 0),i.__decorate([s.observable],n.prototype,"showSectionTitles",void 0),i.__decorate([s.observable],n.prototype,"showSectionBorders",void 0),i.__decorate([s.observable],n.prototype,"showPageBorders",void 0),i.__decorate([s.observable],n.prototype,"validationDisablesPaging",void 0),i.__decorate([s.observable],n.prototype,"labelAlign",void 0),i.__decorate([s.observable],n.prototype,"wrapperCol",void 0),i.__decorate([s.observable],n.prototype,"labelCol",void 0),i.__decorate([s.action],n.prototype,"initialize",null);class d{constructor(e){this.initialize(e)}initialize(e){e&&(this.labelAlign=Object(r.valueOrDefault)(e.labelAlign,"left"),this.wrapperCol=new l(e.wrapperCol),this.labelCol=new l(e.labelCol))}}i.__decorate([s.observable],d.prototype,"labelAlign",void 0),i.__decorate([s.observable],d.prototype,"labelCol",void 0),i.__decorate([s.observable],d.prototype,"wrapperCol",void 0),i.__decorate([s.action],d.prototype,"initialize",null)},"./src/models/page.ts":
/*!****************************!*\
  !*** ./src/models/page.ts ***!
  \****************************/
/*! exports provided: Page */function(e,t,o){"use strict";o.r(t),o.d(t,"Page",function(){return a});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./common */"./src/models/common.ts");class a{constructor(e,t){this._type="Page",this.initialize(e,t)}get fieldNames(){let e=[];return this.sections&&0!=this.sections.length?(this.sections.forEach(t=>{t.columns&&t.columns.length>0&&t.columns.forEach(t=>{t.fields&&t.fields.forEach(t=>{e.push(t.name)})})}),e):e}get fieldIds(){let e=[];return this.sections&&0!=this.sections.length?(this.sections.forEach(t=>{t.columns&&t.columns.length>0&&t.columns.forEach(t=>{t.fields&&t.fields.forEach(t=>{e.push(t.id)})})}),e):e}get idFieldMap(){return this.sections.reduce((e,t)=>Object.assign({},e,t.idFieldMap),{})}get errors(){return this.sections.reduce((e,t)=>e.concat(t.errors),[])}get isValid(){return this.sections.every(e=>e.isValid)}get numSections(){return this.sections.length}get numFields(){return this.sections.reduce((e,t)=>e+t.numFields,0)}addSection(e,t){void 0!==t&&null!=t&&t>-1?this.sections.splice(t,0,e):this.sections.push(e)}removeSection(e){this.sections.splice(e,1)}swapSections(e,t){let{sections:o}=this;[o[e],o[t]]=[o[t],o[e]]}moveSection(e,t){this.sections.splice(t,0,this.sections.splice(e,1)[0])}initialize(e,t){this.id=e.id,this.store=t,this.uuid=e.uuid,this.name=Object(r.valueOrDefault)(e.name,`${this._type}-${e.id}`),this.icon=Object(r.valueOrDefault)(e.name,""),this.sections=Object(r.valueOrDefault)(e.sections,[]),this.title=Object(r.valueOrDefault)(e.title,""),this.subtitle=Object(r.valueOrDefault)(e.subtitle,"")}}i.__decorate([s.observable],a.prototype,"id",void 0),i.__decorate([s.observable],a.prototype,"uuid",void 0),i.__decorate([s.observable],a.prototype,"name",void 0),i.__decorate([s.observable],a.prototype,"icon",void 0),i.__decorate([s.observable],a.prototype,"sections",void 0),i.__decorate([s.observable],a.prototype,"title",void 0),i.__decorate([s.observable],a.prototype,"subtitle",void 0),i.__decorate([s.computed],a.prototype,"fieldNames",null),i.__decorate([s.computed],a.prototype,"fieldIds",null),i.__decorate([s.computed],a.prototype,"idFieldMap",null),i.__decorate([s.computed],a.prototype,"errors",null),i.__decorate([s.computed],a.prototype,"isValid",null),i.__decorate([s.computed],a.prototype,"numSections",null),i.__decorate([s.computed],a.prototype,"numFields",null),i.__decorate([s.action],a.prototype,"addSection",null),i.__decorate([s.action],a.prototype,"removeSection",null),i.__decorate([s.action],a.prototype,"swapSections",null),i.__decorate([s.action],a.prototype,"moveSection",null),i.__decorate([s.action],a.prototype,"initialize",null)},"./src/models/section.ts":
/*!*******************************!*\
  !*** ./src/models/section.ts ***!
  \*******************************/
/*! exports provided: Section */function(e,t,o){"use strict";o.r(t),o.d(t,"Section",function(){return a});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! ./common */"./src/models/common.ts");class a{constructor(e,t){this._type="Section",this.initialize(e,t)}get errors(){return this.columns.reduce((e,t)=>e.concat(t.errors),[])}get numFields(){return this.columns.reduce((e,t)=>e+=t.numFields,0)}addColumn(e,t){e.span||(e.span=6),void 0!==t&&null!=t&&t>-1?this.columns.splice(t,0,e):this.columns.push(e)}removeColumn(e){this.columns.splice(e,1)}swapColumns(e,t){let{columns:o}=this;[o[e],o[t]]=[o[t],o[e]]}moveColumn(e,t){this.columns.splice(t,0,this.columns.splice(e,1)[0])}get numColumns(){return this.columns.length}get isValid(){return this.columns.every(e=>e.isValid)}get idFieldMap(){return this.columns.reduce((e,t)=>Object.assign({},e,t.idFieldMap),{})}initialize(e,t){this.id=e.id,this.uuid=e.uuid,this.name=Object(r.valueOrDefault)(e.name,`${this._type}-${e.id}`),this.title=Object(r.valueOrDefault)(e.title,""),this.gutter=Object(r.valueOrDefault)(e.gutter,16),this.columns=Object(r.valueOrDefault)(e.columns,[]),this.store=t}}i.__decorate([s.observable],a.prototype,"id",void 0),i.__decorate([s.observable],a.prototype,"uuid",void 0),i.__decorate([s.observable],a.prototype,"name",void 0),i.__decorate([s.observable],a.prototype,"title",void 0),i.__decorate([s.observable],a.prototype,"gutter",void 0),i.__decorate([s.observable],a.prototype,"columns",void 0),i.__decorate([s.computed],a.prototype,"errors",null),i.__decorate([s.computed],a.prototype,"numFields",null),i.__decorate([s.action],a.prototype,"addColumn",null),i.__decorate([s.action],a.prototype,"removeColumn",null),i.__decorate([s.action],a.prototype,"swapColumns",null),i.__decorate([s.action],a.prototype,"moveColumn",null),i.__decorate([s.computed],a.prototype,"numColumns",null),i.__decorate([s.computed],a.prototype,"isValid",null),i.__decorate([s.computed],a.prototype,"idFieldMap",null),i.__decorate([s.action],a.prototype,"initialize",null)},"./src/models/validation.ts":
/*!**********************************!*\
  !*** ./src/models/validation.ts ***!
  \**********************************/
/*! exports provided: ValidationAllowedRules, ValidationRuleNames, ValidationRuleMap, ValidationRule */function(e,t,o){"use strict";o.r(t),o.d(t,"ValidationAllowedRules",function(){return r}),o.d(t,"ValidationRuleNames",function(){return a}),o.d(t,"ValidationRuleMap",function(){return l}),o.d(t,"ValidationRule",function(){return n});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js");const r={input:["email","equality","format","inclusion","length","presence","url"],checkbox:["presence"],number:["presence","equality","format"],select:["presence"],cascader:["presence"],radiogroup:["presence"],checkboxgroup:["presence"],textarea:["email","equality","format","inclusion","length","presence","url"],daterange:["presence","date","datetime"],datepicker:["presence","date","datetime"],monthpicker:["presence","date","datetime"],timepicker:["presence","date","datetime"],yearpicker:["presence","date","datetime"],starrating:["presence"],switch:["presence"],transfer:["presence"],slider:["presence"],textblock:[],hidden:[],htmlfragment:[]},a=[{key:"date",label:"Date",value:"date"},{key:"datetime",label:"Datetime",value:"datetime"},{key:"email",label:"Email",value:"email"},{key:"equality",label:"Equals",value:"equality"},{key:"exclusion",label:"Excludes",value:"exclusion"},{key:"format",label:"Matches",value:"format"},{key:"inclusion",label:"Includes",value:"inclusion"},{key:"length",label:"Length",value:"length"},{key:"numericality",label:"Numeric",value:"numericality"},{key:"presence",label:"Present",value:"presence"},{key:"url",label:"URL",value:"url"}],l={date:"Date",datetime:"Datetime",email:"Email",equality:"Equals",exclusion:"Excludes",format:"Matches",inclusion:"Includes",length:"Length",numericality:"Numeric",presence:"Present",url:"URL"};class n{constructor(e){this.initialize(e)}initialize(e={}){this.date=e.date,this.datetime=e.datetime,this.email=e.email,this.equality=e.equality,this.exclusion=e.exclusion,this.format=e.format,this.inclusion=e.inclusion,this.length=e.length,this.numericality=e.numericality,this.presence=e.presence,this.url=e.url}get constraints(){let e={};return Object.keys(l).forEach(t=>{this[t]&&(e[t]=Object(s.toJS)(this[t]))}),e}addConstraint(e,t){this[e]=t}updateConstraint(e,t){this[e]=t}removeConstraint(e){this[e]=null}}i.__decorate([s.observable],n.prototype,"date",void 0),i.__decorate([s.observable],n.prototype,"datetime",void 0),i.__decorate([s.observable],n.prototype,"email",void 0),i.__decorate([s.observable],n.prototype,"equality",void 0),i.__decorate([s.observable],n.prototype,"exclusion",void 0),i.__decorate([s.observable],n.prototype,"format",void 0),i.__decorate([s.observable],n.prototype,"inclusion",void 0),i.__decorate([s.observable],n.prototype,"length",void 0),i.__decorate([s.observable],n.prototype,"numericality",void 0),i.__decorate([s.observable],n.prototype,"presence",void 0),i.__decorate([s.observable],n.prototype,"url",void 0),i.__decorate([s.action],n.prototype,"initialize",null),i.__decorate([s.computed],n.prototype,"constraints",null),i.__decorate([s.action],n.prototype,"addConstraint",null),i.__decorate([s.action],n.prototype,"updateConstraint",null),i.__decorate([s.action],n.prototype,"removeConstraint",null)},"./src/models/validator.ts":
/*!*********************************!*\
  !*** ./src/models/validator.ts ***!
  \*********************************/
/*! exports provided: Validator */function(e,t,o){"use strict";o.r(t),o.d(t,"Validator",function(){return d});var i=o(/*! tslib */"./node_modules/tslib/tslib.es6.js"),s=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),r=o(/*! moment */"moment"),a=o.n(r),l=o(/*! ./validation */"./src/models/validation.ts"),n=o(/*! validate.js */"./node_modules/validate.js/validate.js");n.extend(n.validators.datetime,{parse:function(e,t){return+a.a.utc(e)},format:function(e,t={}){var o=t.dateOnly?"YYYY-MM-DD":"YYYY-MM-DD hh:mm:ss";return a.a.utc(e).format(o)}});class d{constructor(e){this.validationErrors=[],this.initialize(e)}get isValid(){return 0==this.validationErrors.length}get errors(){return this.validationErrors}formatError(e){return e.map(e=>{let t=e.error||"",o=e.error?e.error.replace(`${e.attribute.toUpperCase()} `,""):e.options.message;return{id:this.field.id,name:e.attribute,message:o,prefixedMessage:t,validator:e.validator}})}get isValidateable(){let{field:e}=this;return!e.isHidden&&e.conditionState&&!!this.rule&&Object.keys(this.rule).length>0}validate(){if(1==this.isValidateable){let{field:e,store:t}=this,{id:o}=e,i={};i[e.id]=this.rule.constraints,n.formatters.custom=this.formatError.bind(this);let r=Object(s.toJS)(t.values);this.validationErrors=n(r,i,{format:"custom"})||[],this.validationErrors.length>0?this.store.setFieldError(o,this.validationErrors[0].message):this.store.setFieldError(o,void 0)}else this.validationErrors=[]}get isRequired(){return!!this.rule.presence}initialize(e){this.rule=new l.ValidationRule(e.rule||{}),this.store=e.store,this.field=e.field}}i.__decorate([s.observable],d.prototype,"rule",void 0),i.__decorate([s.observable],d.prototype,"validationErrors",void 0),i.__decorate([s.computed],d.prototype,"isValid",null),i.__decorate([s.computed],d.prototype,"errors",null),i.__decorate([s.computed],d.prototype,"isValidateable",null),i.__decorate([s.action],d.prototype,"validate",null),i.__decorate([s.computed],d.prototype,"isRequired",null),i.__decorate([s.action],d.prototype,"initialize",null)},"./src/store/FormStore.ts":
/*!********************************!*\
  !*** ./src/store/FormStore.ts ***!
  \********************************/
/*! exports provided: createFormStore */function(e,t,o){"use strict";o.r(t),o.d(t,"createFormStore",function(){return r});var i=o(/*! mobx */"./node_modules/mobx/lib/mobx.es6.js"),s=o(/*! ../models/factory */"./src/models/factory.ts");const r=function(e){const t={errors:Object(i.observable)({}),values:Object(i.observable)({}),touched:Object(i.observable)({}),currentPage:i.observable.box(0),debug:i.observable.box(!!(window&&window.location.hostname.indexOf("localhost")>-1)),form:null,isReady:i.observable.box(!1),submitting:i.observable.box(!1),validationDisabled:i.observable.box(!1),conditionsDisabled:i.observable.box(!1),get idFieldMap(){return this.form.content.pages.reduce((e,t)=>Object.assign({},e,t.idFieldMap),{})},get fieldNames(){return this.form.content.pages.reduce((e,t)=>e.concat(t.fieldNames),[])},get isValid(){return!!(!this.form.content&&this.form.content.pages&&this.form.content.pages.length>0)||this.form.content.pages.every(e=>e.isValid)},setSubmitting(e){this.submitting.set(e)},get isSubmitting(){return this.submitting.get()},get numPages(){return this.form.content.pages.length},nextPage:function(){let e=this.form.content.pages[this.currentPage.get()],t=e.errors,{validationDisablesPaging:o}=this.form.formLayoutOptions;e.fieldIds.forEach(e=>{this.touched[e]=!0}),t&&0!=t.length&&0!=o||this.currentPage.set(this.currentPage.get()+1)},prevPage:function(){this.currentPage.set(this.currentPage.get()-1)},setForm:function(e){this.form=e},setFieldValue:function(e,t){this.values[e]=t},setFieldTouched:function(e){this.touched[e]=!0},setFieldError:function(e,t){this.errors[e]=t}};return new s.Factory(t).makeForm(e),t.isReady.set(!0),t}},"./src/store/FormStoreProvider.tsx":
/*!*****************************************!*\
  !*** ./src/store/FormStoreProvider.tsx ***!
  \*****************************************/
/*! exports provided: formStoreContext, FormStoreProvider */function(e,t,o){"use strict";o.r(t),o.d(t,"formStoreContext",function(){return l}),o.d(t,"FormStoreProvider",function(){return n});var i=o(/*! react */"react"),s=o(/*! ./FormStore */"./src/store/FormStore.ts"),r=o(/*! mobx-react */"./node_modules/mobx-react/dist/mobx-react.module.js"),a=o(/*! ../models/factory */"./src/models/factory.ts");const l=i.createContext(null),n=e=>{const t=Object(r.useLocalStore)(s.createFormStore);let o=new a.Factory(t);return t.setForm(o.makeForm(e.initialState)),i.createElement(l.Provider,{value:t},e.children)}},antd:
/*!***********************!*\
  !*** external "antd" ***!
  \***********************/
/*! no static exports found */function(e,t){e.exports=antd},moment:
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=moment},react:
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=React},"react-dom":
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! no static exports found */function(e,t){e.exports=ReactDOM}},[["./src/app.tsx","runtime~main","vendor~main"]]]);
//# sourceMappingURL=main.chunk.js.map