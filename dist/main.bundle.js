!function(e){function t(t){for(var o,s,n=t[0],l=t[1],c=t[2],d=0,u=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(p&&p(t);u.length;)u.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],o=!0,s=1;s<i.length;s++){var l=i[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=n(n.s=i[0]))}return e}var o={},s={11:0},r={11:0},a=[];function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(e){var t=[];s[e]?t.push(s[e]):0!==s[e]&&{23:1,26:1}[e]&&t.push(s[e]=new Promise(function(t,i){for(var o=({0:"vendor~cascader~input~transfer",1:"common",2:"vendor~datepicker~daterange",3:"cascader",4:"checkbox",5:"checkboxgroup",6:"core",7:"datepicker",8:"daterange",9:"htmlfragment",10:"input",12:"number",13:"radio",14:"radiogroup",15:"select",16:"slider",17:"starrating",18:"switch",19:"textarea",20:"textblock",21:"transfer",22:"vendor~cascader",23:"vendor~core",25:"vendor~number",26:"vendor~select",27:"vendor~slider",28:"vendor~transfer"}[e]||e)+"."+e+".chunk.css",r=n.p+o,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var c=(p=a[l]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(c===o||c===r))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){var p;if((c=(p=d[l]).getAttribute("data-href"))===o||c===r)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete s[e],u.parentNode.removeChild(u),i(a)},u.href=r,document.getElementsByTagName("head")[0].appendChild(u)}).then(function(){s[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,o){i=r[e]=[t,o]});t.push(i[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=function(e){return n.p+""+({0:"vendor~cascader~input~transfer",1:"common",2:"vendor~datepicker~daterange",3:"cascader",4:"checkbox",5:"checkboxgroup",6:"core",7:"datepicker",8:"daterange",9:"htmlfragment",10:"input",12:"number",13:"radio",14:"radiogroup",15:"select",16:"slider",17:"starrating",18:"switch",19:"textarea",20:"textblock",21:"transfer",22:"vendor~cascader",23:"vendor~core",25:"vendor~number",26:"vendor~select",27:"vendor~slider",28:"vendor~transfer"}[e]||e)+".chunk.js"}(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(d);var i=r[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,i[1](c)}r[e]=void 0}};var d=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=c;a.push([97,24]),i()}({101:function(e,t,i){},16:function(e,t){e.exports=moment},2:function(e,t){e.exports=React},24:function(e,t){e.exports=ReactDOM},39:function(e,t,i){"use strict";var o=i(1),s=i(0);i(70);function r(e,t){return null!=e?e:t}class a{constructor(e,t){this._type="Column",this.initialize(e,t)}get errors(){return this.fields.reduce((e,t)=>e.concat(t.validator.errors),[])}get isValid(){return this.fields.every((e,t)=>e.isValid)}get idFieldMap(){return this.fields.reduce((e,t)=>(e[t.id]=t,e),{})}get uuidFieldMap(){return this.fields.reduce((e,t)=>(e[t.uuid]=t,e),{})}get numFields(){return this.fields.length}addField(e,t){void 0!==t&&null!=t&&t>-1?this.fields.splice(t,0,e):this.fields.push(e)}addFields(...e){e.forEach(e=>this.addField(e))}removeField(e){this.fields.splice(e,1)}swapFields(e,t){let{fields:i}=this;[i[e],i[t]]=[i[t],i[e]]}moveField(e,t){this.fields.splice(t,0,this.fields.splice(e,1)[0])}initialize(e,t){this.uuid=e.uuid,this.store=t,this.id=e.id,this.span=e.span,this.name=r(e.name,`${this._type}-${e.id}`),this.title=r(e.title,""),this.fields=r(e.fields,[])}}Object(o.a)([s.observable],a.prototype,"uuid",void 0),Object(o.a)([s.observable],a.prototype,"id",void 0),Object(o.a)([s.observable],a.prototype,"name",void 0),Object(o.a)([s.observable],a.prototype,"span",void 0),Object(o.a)([s.observable],a.prototype,"title",void 0),Object(o.a)([s.observable],a.prototype,"fields",void 0),Object(o.a)([s.computed],a.prototype,"errors",null),Object(o.a)([s.computed],a.prototype,"isValid",null),Object(o.a)([s.computed],a.prototype,"idFieldMap",null),Object(o.a)([s.computed],a.prototype,"uuidFieldMap",null),Object(o.a)([s.computed],a.prototype,"numFields",null),Object(o.a)([s.action],a.prototype,"addField",null),Object(o.a)([s.action],a.prototype,"addFields",null),Object(o.a)([s.action],a.prototype,"removeField",null),Object(o.a)([s.action],a.prototype,"swapFields",null),Object(o.a)([s.action],a.prototype,"moveField",null),Object(o.a)([s.action],a.prototype,"initialize",null);class n{constructor(e,t){this.operator="or",this.initialize(e,t)}initialize(e,t){if(!e.condition||-1==n.PredicateConditions.indexOf(e.condition))throw new Error(`InvalidPredicateCondition - ${e.condition}`);if(e.operator&&-1==n.PredicateOperators.indexOf(e.operator))throw new Error(`InvalidPredicateOperator - ${e.operator}`);this.uuid=e.uuid,this.store=t,this.field=e.field,this.condition=e.condition,this.value=e.value,this.operator=e.operator}}n.PredicateConditions=["eq","neq","gt","lt","gteq","lteq","hasval","nothasval"],n.PredicateOperators=["or","and"],Object(o.a)([s.observable],n.prototype,"field",void 0),Object(o.a)([s.observable],n.prototype,"condition",void 0),Object(o.a)([s.observable],n.prototype,"value",void 0),Object(o.a)([s.observable],n.prototype,"operator",void 0),Object(o.a)([s.action],n.prototype,"initialize",null);class l{constructor(e,t){this.initialize(e,t)}initialize(e,t){let i=[];e.predicates.forEach(e=>{i.push(new n(e,t))}),this.predicates=i,this.ancestors=[],this.store=t;let o=this;this.predicates.forEach(e=>{o.ancestors.push(e.field)})}addPredicates(...e){e.forEach(e=>{this.predicates.push(new n(e,this.store)),this.ancestors.push(e.field)})}reduce(e,t,i){return"and"==i?e&&t:e||t}get value(){var e;let t=this;return!this.predicates||0==this.predicates.length||(this.predicates.forEach((i,o)=>{let s=t.store.values[i.field];var r=null;switch(i.condition){case"eq":r=s==i.value;break;case"neq":r=s!=i.value;break;case"gt":r=s>i.value;break;case"lt":r=s<i.value;break;case"gteq":r=s>=i.value;break;case"lteq":r=s<=i.value;break;case"hasval":r=void 0!==s&&null!=s&&""!==s;break;case"nothasval":r=void 0===s||null==s||""==s;break;default:r=!1}e=0==o?r:this.reduce(e,r,i.operator)}),e)}}Object(o.a)([s.observable],l.prototype,"predicates",void 0),Object(o.a)([s.observable],l.prototype,"ancestors",void 0),Object(o.a)([s.action],l.prototype,"initialize",null),Object(o.a)([s.action],l.prototype,"addPredicates",null),Object(o.a)([s.computed],l.prototype,"value",null);const c=["xs","sm","md","lg","xl"];class d{constructor(e={}){Object.keys(e).map(t=>{c.indexOf(t)>-1&&e[t]&&(this[t]=e[t])})}get unused(){return c.filter(e=>void 0===this[e]||null==this[e])}get used(){return c.filter(e=>void 0!==this[e]&&null!=this[e])}add(e,t){this[e]=t}}Object(o.a)([s.observable],d.prototype,"xs",void 0),Object(o.a)([s.observable],d.prototype,"sm",void 0),Object(o.a)([s.observable],d.prototype,"md",void 0),Object(o.a)([s.observable],d.prototype,"lg",void 0),Object(o.a)([s.observable],d.prototype,"xl",void 0),Object(o.a)([s.computed],d.prototype,"unused",null),Object(o.a)([s.computed],d.prototype,"used",null);class p{constructor(e){this.initialize(e)}initialize(e){e&&(this.showSteps=r(e.showSteps,!0),this.showPageTitles=r(e.showPageTitles,!0),this.showSectionTitles=r(e.showSectionTitles,!1),this.showSectionBorders=r(e.showSectionBorders,!1),this.showPageBorders=r(e.showPageBorders,!1),this.validationDisablesPaging=r(e.validationDisablesPaging,!0),this.labelAlign=r(e.labelAlign,"left"),this.wrapperCol=r(e.wrapperCol,{span:8}),this.labelCol=r(e.labelCol,{span:6}))}}Object(o.a)([s.observable],p.prototype,"showSteps",void 0),Object(o.a)([s.observable],p.prototype,"showPageTitles",void 0),Object(o.a)([s.observable],p.prototype,"showSectionTitles",void 0),Object(o.a)([s.observable],p.prototype,"showSectionBorders",void 0),Object(o.a)([s.observable],p.prototype,"showPageBorders",void 0),Object(o.a)([s.observable],p.prototype,"validationDisablesPaging",void 0),Object(o.a)([s.observable],p.prototype,"labelAlign",void 0),Object(o.a)([s.observable],p.prototype,"wrapperCol",void 0),Object(o.a)([s.observable],p.prototype,"labelCol",void 0),Object(o.a)([s.action],p.prototype,"initialize",null);class u{constructor(e){this.initialize(e)}initialize(e){e&&(this.labelAlign=r(e.labelAlign,"left"),this.wrapperCol=new d(e.wrapperCol),this.labelCol=new d(e.labelCol))}}Object(o.a)([s.observable],u.prototype,"labelAlign",void 0),Object(o.a)([s.observable],u.prototype,"labelCol",void 0),Object(o.a)([s.observable],u.prototype,"wrapperCol",void 0),Object(o.a)([s.action],u.prototype,"initialize",null);const h={date:"Date",datetime:"Datetime",email:"Email",equality:"Equals",exclusion:"Excludes",format:"Matches",inclusion:"Includes",length:"Length",numericality:"Numeric",presence:"Present",url:"URL"};class b{constructor(e){this.initialize(e)}initialize(e={}){this.date=e.date,this.datetime=e.datetime,this.email=e.email,this.equality=e.equality,this.exclusion=e.exclusion,this.format=e.format,this.inclusion=e.inclusion,this.length=e.length,this.numericality=e.numericality,this.presence=e.presence,this.url=e.url}get constraints(){let e={};return Object.keys(h).forEach(t=>{this[t]&&(e[t]=Object(s.toJS)(this[t]))}),e}addConstraint(e,t){this[e]=t}updateConstraint(e,t){this[e]=t}removeConstraint(e){this[e]=null}}Object(o.a)([s.observable],b.prototype,"date",void 0),Object(o.a)([s.observable],b.prototype,"datetime",void 0),Object(o.a)([s.observable],b.prototype,"email",void 0),Object(o.a)([s.observable],b.prototype,"equality",void 0),Object(o.a)([s.observable],b.prototype,"exclusion",void 0),Object(o.a)([s.observable],b.prototype,"format",void 0),Object(o.a)([s.observable],b.prototype,"inclusion",void 0),Object(o.a)([s.observable],b.prototype,"length",void 0),Object(o.a)([s.observable],b.prototype,"numericality",void 0),Object(o.a)([s.observable],b.prototype,"presence",void 0),Object(o.a)([s.observable],b.prototype,"url",void 0),Object(o.a)([s.action],b.prototype,"initialize",null),Object(o.a)([s.computed],b.prototype,"constraints",null),Object(o.a)([s.action],b.prototype,"addConstraint",null),Object(o.a)([s.action],b.prototype,"updateConstraint",null),Object(o.a)([s.action],b.prototype,"removeConstraint",null);var m=i(16),v=i.n(m),g=i(104);g.extend(g.validators.datetime,{parse:function(e,t){return+v.a.utc(e)},format:function(e,t={}){var i=t.dateOnly?"YYYY-MM-DD":"YYYY-MM-DD hh:mm:ss";return v.a.utc(e).format(i)}});class y{constructor(e){this.validationErrors=[],this.initialize(e)}get isValid(){return 0==this.validationErrors.length}get errors(){return this.validationErrors}formatError(e){return e.map(e=>{let t=e.error||"",i=e.error?e.error.replace(`${e.attribute.toUpperCase()} `,""):e.options.message;return{id:this.field.id,name:e.attribute,message:i,prefixedMessage:t,validator:e.validator}})}get isValidateable(){let{field:e}=this;return!e.isHidden&&e.conditionState&&!!this.rule&&Object.keys(this.rule).length>0}validate(){if(1==this.isValidateable){let{field:e,store:t}=this,{id:i}=e,o={};o[e.id]=this.rule.constraints,g.formatters.custom=this.formatError.bind(this);let r=Object(s.toJS)(t.values);this.validationErrors=g(r,o,{format:"custom"})||[],this.validationErrors.length>0?this.store.setFieldError(i,this.validationErrors[0].message):this.store.setFieldError(i,void 0)}else this.validationErrors=[]}get isRequired(){return!!this.rule.presence}initialize(e){this.rule=new b(e.rule||{}),this.store=e.store,this.field=e.field}}Object(o.a)([s.observable],y.prototype,"rule",void 0),Object(o.a)([s.observable],y.prototype,"validationErrors",void 0),Object(o.a)([s.computed],y.prototype,"isValid",null),Object(o.a)([s.computed],y.prototype,"errors",null),Object(o.a)([s.computed],y.prototype,"isValidateable",null),Object(o.a)([s.action],y.prototype,"validate",null),Object(o.a)([s.computed],y.prototype,"isRequired",null),Object(o.a)([s.action],y.prototype,"initialize",null);class O{constructor(e,t){this._type="Field",this.initialize(e,t)}mergeUpdate(e){this.id=e.id?e.id:this.id,this.name=e.name,this.label=e.label,this.helpText=e.helpText,this.placeholder=e.placeholder;let{fieldOptions:t}=e;this.fieldOptions=Object.assign(Object.assign({},this.fieldOptions),{valuePropName:t?t.valuePropName:this.fieldOptions.valuePropName}),this.componentProps=Object.assign(Object.assign({},this.componentProps),e.componentProps)}initialize(e,t){this.store=t,this.id=e.id,this.uuid=e.uuid,this.name=e.name||`${this._type}_${e.id}`,this.type=e.type,this.label=e.label,this.inputType=e.inputType,this.fieldOptions=e.fieldOptions?Object.assign({id:e.id},Object.assign({},e.fieldOptions)):{id:e.id},this.fieldOptions.valuePropName=(e.fieldOptions||{}).valuePropName||this.name,this.validation=e.validation,this.validator=new y({rule:new b(e.validation),field:this,store:t}),this.storage=e.storage,this.label=e.label,this.helpText=e.helpText,this.placeholder=e.placeholder,this.children=e.children||{},this.componentProps=e.componentProps||{},this.location=e.location||{},this.touched=!1,this.itemLayoutOptions=new u(e.itemLayoutOptions),this.componentProps&&this.componentProps.defaultValue?this.setValue(this.componentProps.defaultValue):this.componentProps&&this.componentProps.defaultChecked&&this.setValue(this.componentProps.defaultChecked),this.fieldOptions.valuePropName||(this.fieldOptions.valuePropName=`${this.id}_value`),"daterange"==this.inputType&&(this.componentProps.startValuePropsName=this.componentProps.startValuePropsName?this.componentProps.startValuePropsName:"start_date",this.componentProps.endValuePropsName=this.componentProps.endValuePropsName?this.componentProps.endValuePropsName:"end_date"),e.condition?this.setCondition(e.condition):(this.condition=null,this.conditionState=!0),this.validate()}get className(){return`.fl-field .fl-${this.inputType}${this.type?"-"+this.type:""}`}get isTouched(){return this.store.touched[this.id]}get isValidateable(){return this.validator.isValidateable}get isValid(){return this.validator.isValid}get isHidden(){return"hidden"==this.inputType}get isRequired(){return!!this.validator.rule.presence}get currentValue(){return this.value}get isDisabled(){return!this.conditionState}setValue(e){this.value=e,this.store.setFieldValue(this.id,e),this.condition&&console.log("Condition Value",this.condition.value),this.validate()}setTouched(){this.touched=!0,this.store.setFieldTouched(this.id),this.validate()}setConditionState(e){this.conditionState=e,this.validate()}setCondition(e){if(null==e||!e.predicates||0==e.predicates.length)return this.condition=null,this.conditionState=!0,this._dispose&&this._dispose(),void this.validate();this.condition=new l(e,this.store),this.conditionState=this.condition.value,this._dispose=Object(s.observe)(this.condition,"value",e=>{this.setConditionState(e.newValue),1==e.newValue&&this.validate()},!0)}validate(){this.validator.validate()}get serialize(){let e=Object(s.toJS)(this);return delete e.store,delete e.validator,JSON.stringify(e)}}Object(o.a)([s.observable],O.prototype,"id",void 0),Object(o.a)([s.observable],O.prototype,"name",void 0),Object(o.a)([s.observable],O.prototype,"type",void 0),Object(o.a)([s.observable],O.prototype,"label",void 0),Object(o.a)([s.observable],O.prototype,"value",void 0),Object(o.a)([s.observable],O.prototype,"touched",void 0),Object(o.a)([s.observable],O.prototype,"inputType",void 0),Object(o.a)([s.observable],O.prototype,"helpText",void 0),Object(o.a)([s.observable],O.prototype,"placeholder",void 0),Object(o.a)([s.observable],O.prototype,"condition",void 0),Object(o.a)([s.observable],O.prototype,"storage",void 0),Object(o.a)([s.observable],O.prototype,"location",void 0),Object(o.a)([s.observable],O.prototype,"conditionState",void 0),Object(o.a)([s.observable],O.prototype,"validator",void 0),Object(o.a)([s.observable],O.prototype,"componentProps",void 0),Object(o.a)([s.observable],O.prototype,"itemLayoutOptions",void 0),Object(o.a)([s.action],O.prototype,"mergeUpdate",null),Object(o.a)([s.action],O.prototype,"initialize",null),Object(o.a)([s.computed],O.prototype,"className",null),Object(o.a)([s.computed],O.prototype,"isTouched",null),Object(o.a)([s.computed],O.prototype,"isValidateable",null),Object(o.a)([s.computed],O.prototype,"isValid",null),Object(o.a)([s.computed],O.prototype,"isHidden",null),Object(o.a)([s.computed],O.prototype,"isRequired",null),Object(o.a)([s.computed],O.prototype,"currentValue",null),Object(o.a)([s.computed],O.prototype,"isDisabled",null),Object(o.a)([s.action],O.prototype,"setValue",null),Object(o.a)([s.action],O.prototype,"setTouched",null),Object(o.a)([s.action],O.prototype,"setConditionState",null),Object(o.a)([s.action],O.prototype,"setCondition",null),Object(o.a)([s.action],O.prototype,"validate",null),Object(o.a)([s.computed],O.prototype,"serialize",null);var f=i(88),j=i.n(f);class w{constructor(e,t){this.initialize(e,t)}initialize(e,t){this.store=t,this.id=e.id,this.name=e.name,this.uuid=e.uuid,this.exid=r(e.exid,null),this.description=r(e.description,null),e.content?(this.content={title:r(e.content.title,null),subtitle:r(e.content.subtitle,null),labels:r(e.content.labels,null),offset:r(e.content.offset,null),width:r(e.content.width,null),sidebar:r(e.content.sidebar,null),scripts:r(e.content.scripts,null),styles:r(e.content.styles,null),datasets:r(e.content.datasets,null),pages:r(e.content.pages,[]),paginate:r(e.content.paginate,!1)},e.content.css?this.content.css={inline:r(e.content.css.inline,[]),external:r(e.content.css.external,[])}:this.content.css={inline:null,external:null},e.content.header?this.content.header={rows:r(e.content.header.rows,[])}:this.content.header={rows:[]},e.content.footer?this.content.footer={rows:r(e.content.footer.rows,[])}:this.content.footer={rows:[]},e.content.trackingPixels?this.content.trackingPixels=e.content.trackingPixels:this.content.trackingPixels=[]):(this.content={title:null,subtitle:null,labels:null,offset:null,width:null,sidebar:null,scripts:[],styles:[],datasets:[],pages:[],paginate:!0},this.content.css={inline:null,external:null},this.content.header={rows:[]},this.content.footer={rows:[]},this.content.trackingPixels=[]),this.layout=r(e.layout,"vertical"),this.formLayoutOptions=new p(e.formLayoutOptions),this.itemLayoutOptions=new u(e.itemLayoutOptions)}get isValid(){return this.content.pages.every(e=>e.isValid)}get numPages(){return this.content.pages.length}get numFields(){return this.content.pages.reduce((e,t)=>e+t.numFields,0)}addPage(e,t){void 0!==t&&null!=t&&t>-1?this.content.pages.splice(t,0,e):this.content.pages.push(e)}removePage(e){this.content.pages.splice(e,1)}swapPages(e,t){let{pages:i}=this.content;[i[e],i[t]]=[i[t],i[e]]}movePage(e,t){this.content.pages.splice(t,0,this.content.pages.splice(e,1)[0])}get isSubmittable(){let e=!this.stopSubmit||!this.stopSubmit;return 0==this.errors.length&&e}get idFieldMap(){return this.content.pages.reduce((e,t)=>Object.assign(Object.assign({},e),t.idFieldMap),{})}get uuidFieldMap(){return this.content.pages.reduce((e,t)=>Object.assign(Object.assign({},e),t.uuidFieldMap),{})}get errors(){return this.content.pages.reduce((e,t)=>e.concat(t.errors),[])}get values(){return Object.keys(this.idFieldMap).reduce((e,t)=>{let i=this.idFieldMap[t];return"htmlfragment"==i.inputType||"textblock"==i.inputType?e:Object.assign(Object.assign({},e),{[i.id]:i.value})},{})}handleSubmit(e){e.preventDefault(),e.stopPropagation(),this.store.setSubmitting(!0);let t=this.idFieldMap,i={},o=this.values;Object.keys(o).forEach(e=>{let s=t[e].fieldOptions.valuePropName||t[e].name;i[s]=o[e]}),this.isSubmittable&&this.submitTarget?j.a.post(this.submitTarget,i).catch(e=>{console.log("Submit Error",e),this.submitError="There was an error submitting this form",this.successRedirect&&setTimeout(()=>{window.location.href=this.successRedirect},5e3)}).then(()=>{this.store.setSubmitting(!1),this.successRedirect&&setTimeout(()=>{window.location.href=this.errorRedirect},5e3)}):console.dir(o)}}Object(o.a)([s.observable],w.prototype,"id",void 0),Object(o.a)([s.observable],w.prototype,"exid",void 0),Object(o.a)([s.observable],w.prototype,"description",void 0),Object(o.a)([s.observable],w.prototype,"name",void 0),Object(o.a)([s.observable],w.prototype,"tenant",void 0),Object(o.a)([s.observable],w.prototype,"status",void 0),Object(o.a)([s.observable],w.prototype,"content",void 0),Object(o.a)([s.observable],w.prototype,"layout",void 0),Object(o.a)([s.observable],w.prototype,"stopSubmit",void 0),Object(o.a)([s.observable],w.prototype,"submitTarget",void 0),Object(o.a)([s.observable],w.prototype,"submitError",void 0),Object(o.a)([s.observable],w.prototype,"formLayoutOptions",void 0),Object(o.a)([s.observable],w.prototype,"itemLayoutOptions",void 0),Object(o.a)([s.observable],w.prototype,"successRedirect",void 0),Object(o.a)([s.observable],w.prototype,"errorRedirect",void 0),Object(o.a)([s.action],w.prototype,"initialize",null),Object(o.a)([s.computed],w.prototype,"isValid",null),Object(o.a)([s.computed],w.prototype,"numPages",null),Object(o.a)([s.computed],w.prototype,"numFields",null),Object(o.a)([s.action],w.prototype,"addPage",null),Object(o.a)([s.action],w.prototype,"removePage",null),Object(o.a)([s.action],w.prototype,"swapPages",null),Object(o.a)([s.action],w.prototype,"movePage",null),Object(o.a)([s.computed],w.prototype,"isSubmittable",null),Object(o.a)([s.computed],w.prototype,"idFieldMap",null),Object(o.a)([s.computed],w.prototype,"uuidFieldMap",null),Object(o.a)([s.computed],w.prototype,"errors",null),Object(o.a)([s.computed],w.prototype,"values",null),Object(o.a)([s.action.bound],w.prototype,"handleSubmit",null);class P{constructor(e,t){this._type="Page",this.initialize(e,t)}get fieldNames(){let e=[];return this.sections&&0!=this.sections.length?(this.sections.forEach(t=>{t.columns&&t.columns.length>0&&t.columns.forEach(t=>{t.fields&&t.fields.forEach(t=>{e.push(t.name)})})}),e):e}get fieldIds(){let e=[];return this.sections&&0!=this.sections.length?(this.sections.forEach(t=>{t.columns&&t.columns.length>0&&t.columns.forEach(t=>{t.fields&&t.fields.forEach(t=>{e.push(t.id)})})}),e):e}get idFieldMap(){return this.sections.reduce((e,t)=>Object.assign(Object.assign({},e),t.idFieldMap),{})}get uuidFieldMap(){return this.sections.reduce((e,t)=>Object.assign(Object.assign({},e),t.uuidFieldMap),{})}get errors(){return this.sections.reduce((e,t)=>e.concat(t.errors),[])}get isValid(){return this.sections.every(e=>e.isValid)}get numSections(){return this.sections.length}get numFields(){return this.sections.reduce((e,t)=>e+t.numFields,0)}addSection(e,t){void 0!==t&&null!=t&&t>-1?this.sections.splice(t,0,e):this.sections.push(e)}removeSection(e){this.sections.splice(e,1)}swapSections(e,t){let{sections:i}=this;[i[e],i[t]]=[i[t],i[e]]}moveSection(e,t){this.sections.splice(t,0,this.sections.splice(e,1)[0])}initialize(e,t){this.id=e.id,this.store=t,this.uuid=e.uuid,this.name=r(e.name,`${this._type}-${e.id}`),this.icon=r(e.name,""),this.sections=r(e.sections,[]),this.title=r(e.title,""),this.subtitle=r(e.subtitle,"")}}Object(o.a)([s.observable],P.prototype,"id",void 0),Object(o.a)([s.observable],P.prototype,"uuid",void 0),Object(o.a)([s.observable],P.prototype,"name",void 0),Object(o.a)([s.observable],P.prototype,"icon",void 0),Object(o.a)([s.observable],P.prototype,"sections",void 0),Object(o.a)([s.observable],P.prototype,"title",void 0),Object(o.a)([s.observable],P.prototype,"subtitle",void 0),Object(o.a)([s.computed],P.prototype,"fieldNames",null),Object(o.a)([s.computed],P.prototype,"fieldIds",null),Object(o.a)([s.computed],P.prototype,"idFieldMap",null),Object(o.a)([s.computed],P.prototype,"uuidFieldMap",null),Object(o.a)([s.computed],P.prototype,"errors",null),Object(o.a)([s.computed],P.prototype,"isValid",null),Object(o.a)([s.computed],P.prototype,"numSections",null),Object(o.a)([s.computed],P.prototype,"numFields",null),Object(o.a)([s.action],P.prototype,"addSection",null),Object(o.a)([s.action],P.prototype,"removeSection",null),Object(o.a)([s.action],P.prototype,"swapSections",null),Object(o.a)([s.action],P.prototype,"moveSection",null),Object(o.a)([s.action],P.prototype,"initialize",null);class F{constructor(e,t){this._type="Section",this.initialize(e,t)}get errors(){return this.columns.reduce((e,t)=>e.concat(t.errors),[])}get numFields(){return this.columns.reduce((e,t)=>e+=t.numFields,0)}addColumn(e,t){e.span||(e.span=6),void 0!==t&&null!=t&&t>-1?this.columns.splice(t,0,e):this.columns.push(e)}removeColumn(e){this.columns.splice(e,1)}swapColumns(e,t){let{columns:i}=this;[i[e],i[t]]=[i[t],i[e]]}moveColumn(e,t){this.columns.splice(t,0,this.columns.splice(e,1)[0])}get numColumns(){return this.columns.length}get isValid(){return this.columns.every(e=>e.isValid)}get idFieldMap(){return this.columns.reduce((e,t)=>Object.assign(Object.assign({},e),t.idFieldMap),{})}get uuidFieldMap(){return this.columns.reduce((e,t)=>Object.assign(Object.assign({},e),t.uuidFieldMap),{})}initialize(e,t){this.id=e.id,this.uuid=e.uuid,this.name=r(e.name,`${this._type}-${e.id}`),this.title=r(e.title,""),this.gutter=r(e.gutter,16),this.columns=r(e.columns,[]),this.store=t}}Object(o.a)([s.observable],F.prototype,"id",void 0),Object(o.a)([s.observable],F.prototype,"uuid",void 0),Object(o.a)([s.observable],F.prototype,"name",void 0),Object(o.a)([s.observable],F.prototype,"title",void 0),Object(o.a)([s.observable],F.prototype,"gutter",void 0),Object(o.a)([s.observable],F.prototype,"columns",void 0),Object(o.a)([s.computed],F.prototype,"errors",null),Object(o.a)([s.computed],F.prototype,"numFields",null),Object(o.a)([s.action],F.prototype,"addColumn",null),Object(o.a)([s.action],F.prototype,"removeColumn",null),Object(o.a)([s.action],F.prototype,"swapColumns",null),Object(o.a)([s.action],F.prototype,"moveColumn",null),Object(o.a)([s.computed],F.prototype,"numColumns",null),Object(o.a)([s.computed],F.prototype,"isValid",null),Object(o.a)([s.computed],F.prototype,"idFieldMap",null),Object(o.a)([s.computed],F.prototype,"uuidFieldMap",null),Object(o.a)([s.action],F.prototype,"initialize",null),i.d(t,"a",function(){return x}),i.d(t,"b",function(){return C});const S=i(70),x={id:null,name:"Untitled Form",description:"Form description",formLayoutOptions:{showPageTitles:!0,showSteps:!0,showSectionBorders:!1,showPageBorders:!1,showSectionTitles:!1,validationDisablesPaging:!0},layout:"vertical",itemLayoutOptions:{labelAlign:"left",labelCol:{xl:{offset:0,span:8}},wrapperCol:{xl:{offset:0,span:16}}},content:{title:"Form title",subtitle:"Form subtitle"}};class C{static ensureIds(e){e.uuid||(e.uuid=S()),e.id||(e.id=(1e6*Math.random()).toFixed(0)+"")}static makePredicates(e,...t){let i=[];return t.forEach(t=>{C.ensureIds(t),i.push(new n(t,e))}),i}static makeCondition(e,t){let i=C.makePredicates(e,...t.predicates);return new l({predicates:i},e)}static makeFields(e,...t){return t&&0!=t.length?t.reduce((t,i)=>(C.ensureIds(i),t.push(new O(Object.assign(Object.assign({},i),{condition:i.condition}),e)),t),[]):[]}static makeColumns(e,...t){let i=[];return t&&0!=t.length?(t.forEach(o=>{C.ensureIds(o);let s=C.makeFields(e,...o.fields);o.span||(o.span=Math.floor(24/t.length));let r=new a(Object.assign(Object.assign({},o),{fields:s}),e);i.push(r)}),i):i}static makeSections(e,...t){let i=[];return t&&0!=t.length?(t.forEach(t=>{C.ensureIds(t);let o=t.columns&&t.columns.length>0?C.makeColumns(e,...t.columns):[];i.push(new F(Object.assign(Object.assign({},t),{columns:o}),e))}),i):[]}static makePages(e,...t){if(!t||0==t.length)return[];let i=[];return t.forEach(t=>{C.ensureIds(t);let o=C.makeSections(e,...t.sections);i.push(new P(Object.assign(Object.assign({},t),{sections:o}),e))}),i}static makeForm(e,t){let i;if(t&&t.content&&t.content.pages)t.content.pages=C.makePages(e,...t.content.pages),i=new w(t,e);else{i=new w(t||{id:null,content:{pages:[]}},e)}return i}}},64:function(e,t,i){"use strict";var o=i(2),s=i(0);const r=()=>{const e={errors:{},values:{},touched:{},currentPage:0,debug:!!(window&&window.location.hostname.indexOf("localhost")>-1),form:null,isReady:!1,submitting:!1,validationDisabled:!1,conditionsDisabled:!1,get idFieldMap(){return this.form?this.form.content.pages.reduce((e,t)=>Object.assign(Object.assign({},e),t.idFieldMap),{}):{}},get uuidFieldMap(){return this.form?this.form.content.pages.reduce((e,t)=>Object.assign(Object.assign({},e),t.uuidFieldMap),{}):{}},get fieldNames(){return this.form?this.form.content.pages.reduce((e,t)=>e.concat(t.fieldNames),[]):[]},get isValid(){return!(this.form&&this.form.content&&this.form.content.pages&&this.form.content.pages.length>0)||this.form.content.pages.every(e=>e.isValid)},setSubmitting(e){this.submitting=e},get isSubmitting(){return this.submitting},get numPages(){return this.form?this.form.content.pages.length:0},nextPage:function(){if(!this.form)return;let e=this.form.content.pages[this.currentPage],t=e.errors,{validationDisablesPaging:i}=this.form.formLayoutOptions;e.fieldIds.forEach(e=>{this.touched[e]=!0}),t&&0!=t.length&&0!=i||(this.currentPage=this.currentPage+1)},prevPage:function(){this.currentPage=this.currentPage-1},setForm:function(e){this.form=e},setFieldValue:function(e,t){this.values[e]=t},setFieldTouched:function(e){this.touched[e]=!0},setFieldError:function(e,t){this.errors[e]=t}};return Object(s.observable)(e)};var a=i(60),n=i(39);i.d(t,"b",function(){return l}),i.d(t,"a",function(){return c});const l=o.createContext(null),c=e=>{let t;if(e.formStore)t=e.formStore;else{if(!e.initialState)throw new Error("FormStoreProvider - Pass initialState or formStore");(t=Object(a.a)(r)).setForm(n.b.makeForm(t,e.initialState))}return o.createElement(l.Provider,{value:t},e.children)}},97:function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return d});var o=i(77),s=(i(92),i(87)),r=i(2),a=i.n(r),n=i(24),l=(i(101),i(64)),c=i(39);function d(e,t){const s=a.a.lazy(()=>Promise.all([i.e(23),i.e(6)]).then(i.bind(null,165)).then(e=>({default:e.FormView})));Object(n.render)(a.a.createElement(o.a,{style:{height:"100vh",overflow:"hidden"}},a.a.createElement(a.a.Suspense,{fallback:"Loading"},a.a.createElement(l.a,{initialState:t},a.a.createElement(s,null)))),document.querySelector(e))}Object(s.enableLogging)({action:!1,reaction:!1,transaction:!1,compute:!1}),d("#root",Object.assign({},c.a))}});
//# sourceMappingURL=main.bundle.js.map